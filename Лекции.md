# Математические основы баз данных

# Лекция 1

Формат:

* (Автомат : Все практические задачи (5 шт.)!)
* Аудитория: Д - 212

Технический курс:

* Python3
* Sqlite
* Jupyter(Google Collab)

Литература: 

* К.Дж.Дэйт - Классика CS
* Avi Suberschatz, Henry F. Korth - Database System Concepts (2020)

--------

**База Данных** (БД) - коллекция данных, содержащих информацию, релевантную для предприятия.

**Система Управления Базами Данных** (СУБД) - коллекция связанных между собой данных и набор программ для работы с этими данными.

* Основной целью СУБД является предоставление способа для хранения и забора информации о базе данных, который является подходящим для пользователя, так и эффективным.

* Управление данных включает в себя как определение структур для хранения информации, так и предоставления механизмов для обработки информации.

## Примеры приложений баз данных

* Информация о предприятиях
  * Продажи
  * Бухгалтер
  * HR
* Производство
* Банковское дело
* Университеты
* Авиакомпания
* Телекоммуниккации
* Электронная коммерция
* Докумениные базы данных

## Требования к СУБД

1. Разделение программ и данных
2. Высокоуровневый язык запросов
3. Целостность и согласованность
4. Отказоустойчивость
5. Защита и разграничение доступа

*По этим причинам Excel не является СУБД*

## Технологии работы с данными

* **OLTP** (Online transaction processing) - Большое число пользователей, небольшой объём информации, небольшие обновления.
* **OLAP** (Online analytical processing) - обработка большого объёма данных для принятия решений.
  
## Цели систем баз данных

Недостатки хранения информации в системе работы с файлами:

1. Избыточность и несогласованность данных
2. Сложность в заборе данных
3. Изоляция данных
4. Проблемы атомарности
5. Аномалии конкурентного доступа
6. Проблемы безопасности

**Атомарность** -  Это свойство означает, что результаты всех операций, успешно выполненных в пределах транзакции, должны быть отражены в состоянии базы данных, либо в состоянии базы данных не должно быть отражено действие ни одной операции.

## Модель данных 

* **Реляционная модель** (Relational model) - 

        Объекты и соотношения между ними представляются в виде таблиц, строки которых соответствуют записям, а стролбцы атрибутами отношений (полями).

        Реляционная модель ориентирована на организацию данных в виде двумерных таблиц. => Каждая реляционная модель - это двумерный массив.
    
* **ER модель** (Entity-Relationship Model)

        ER-модель – это представление базы данных в виде наглядных графических диаграмм. ER-модель визуализирует процесс, который определяет некоторую предметную область. Диаграмма «сущность»-«связь» – это диаграмма, которая представляет в графическом виде сущности, атрибуты и связи.

* **Полуструктурированная модель данных** (Semi-structered Data Model)

        Полуструктурированные данные - это данные, которые не соответствуют модели данных, но имеют некоторую структуру. У него нет фиксированной или жесткой схемы. Это данные, которых нет в рациональной базе данных, но которые обладают некоторыми организационными свойствами, облегчающими анализ.

* **Модели данных, основанные на объектах** (Jbject-based Data Models) 

        Объектные модели могут использоваться как для представления данных, так и для процессов их обработки. Являются фактическим объединением моделей потоков данных и семантических моделей данных. 

## Модель данных SQL

Языки баз данных:

* **DQL** - Data Query Language
* **DDL** - Data Definition Language - язык хранения и определения данных
* **DML** - Data Manipulation Language
* **DCL** - Data Control Language
* **TCL** - Transaction Control Language

## Структура и отношения в модели данных SQL

| Student_ID | Student_name | Student_salary | Student_gpa |
| ---        | ---          | ---            | ---         |
| 101        | Иванов       | 2000           | 4.6         |
| 102        | Петров       | 3000           | 4.2         |

Типы данных:

* Целые числа -> Номера студентов -> Student_ID
* Строки -> Имена -> Student_name
* Числа с фикс. кол-вом разрядов -> Деньги -> Выплаты -> Student_salary
* Числа с фикс. кол-вом разрядов -> Средний балл -> Student_gpa

**Первичный ключ**: Student_ID

**Значение отношений**:

| Student_ID |
| ---        |
| 101        |
| 102        |

**Атрибуты**:  Student_ID, Student_name, Student_salary, Student_gpa

**Заголовок отношения**: Student_gpa

**Тело отношения**: 

| 101        |
|---|
| 102        |

**Кортежи**: 4.6, 4.2

## Императивность и декларативность

На примере:

Java

```Java
public static List<String> getStudentsFromIT() {
    List<String> result = new ArrayList<>();
    FileReader rdr = new FileReader("students.txt");
    BufferedReader br = new BudderedReader(rdr);
    String line = br.readLine();
    while (line != null) {
        String[] vals = line.split("\t");
        String faculty = vals[2];
        if (faculty.equals("IT"))
        result.add(vals[1]);
        line = br.readLine();
    }
    return result;
}
```

SQLite

```SQL
SELECT name
FROM Students
WHERE faculty = 'IT'
```